# Sports Injury Risk Prediction Training Configuration

# 实验基础设置
experiment_name: "sports_injury_risk_baseline"
random_state: 42
output_dir: "results"

# 数据配置
data:
  type: "synthetic"  # csv, synthetic
  # path: "data/injury_data.csv"  # 如果使用CSV文件
  target_column: "injury_risk"
  n_samples: 2000  # 仅用于合成数据

# 数据分割
data_split:
  test_size: 0.2
  val_size: 0.1
  stratify: true

# 特征工程
feature_engineering:
  enabled: true
  params:
    calculate_derived_features: true
    normalize_numerical: true
    encode_categorical: true
    handle_missing: true
    create_interaction_features: false

# 模型配置
models:
  random_forest:
    type: "random_forest"
    params:
      n_estimators: 100
      max_depth: 10
      min_samples_split: 5
      min_samples_leaf: 2
      random_state: 42
    param_grid:  # 用于超参数调优
      n_estimators: [50, 100, 200]
      max_depth: [5, 10, 15, null]
      min_samples_split: [2, 5, 10]

  logistic_regression:
    type: "logistic_regression"
    params:
      C: 1.0
      max_iter: 1000
      random_state: 42
    param_grid:
      C: [0.1, 1.0, 10.0]
      penalty: ['l1', 'l2']
      solver: ['liblinear', 'lbfgs']

  xgboost:
    type: "xgboost"
    params:
      n_estimators: 100
      max_depth: 6
      learning_rate: 0.1
      subsample: 0.8
      colsample_bytree: 0.8
      random_state: 42
    param_grid:
      n_estimators: [50, 100, 200]
      max_depth: [3, 6, 9]
      learning_rate: [0.01, 0.1, 0.2]

# 评估配置
evaluation:
  metrics: ["auc_roc", "auc_pr", "f1", "precision", "recall", "accuracy"]
  cross_validation:
    cv: 5
    scoring: "roc_auc"

# 校准配置
calibration:
  enabled: true
  methods: ["platt", "isotonic"]
  cv: 5

# 可解释性配置
interpretability:
  enabled: true
  methods: ["shap", "feature_importance"]
  max_features: 20